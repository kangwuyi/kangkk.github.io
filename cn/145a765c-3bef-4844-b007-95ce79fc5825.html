<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta property="wb:webmaster" content="7e72a191affb5721" />
    <meta name="description" content="滚动条">
    <meta name="keywords" content="Gun,Dong,Tiao,Gun Dong Tiao,滚动条">
    <!-- <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache"> -->
    <title>KC.</title>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../static/css/base.css">
    <link rel="stylesheet" href="../static/css/mark.css">
    <link rel="stylesheet" href="../static/font/iconfont.css">
    <!--[if lt IE 9]>
    <script src="../static/js/html5.js"></script>
    <![endif]-->
    <script type="application/javascript" src="../static/js/jquery.min.js"></script>
</head>

<body class="body__note">
    <header class="header">
        <div class="header__content w-900">
            <h1 class="content__title">
                <a class="title__link-a" href="https://github.com/kangcafe" target="_blank">kang`s cafe<span class="title__link-span--icon iconfont icon-github"></span></a>
            </h1>
            <small class="content__btn">
                <a class="content__btn-a" href="./note.html">BACK HOME</a>
            </small>
        </div>
    </header>


<div class="container w-900">
    <h1><span class="header-link" id="webkit滚动条伪属性">webkit滚动条伪属性</span></h1><!-- toc -->
<section class="content__section"><div class="content-box__markdown--toc"><ol>
<li><a href="#scrollbar">scrollbar</a></li>
<li><a href="#scrollbar基本伪类">scrollbar基本伪类</a><ol>
<li><a href="#简单样式">简单样式</a></li>
</ol>
</li>
<li><a href="#伪元素">伪元素</a></li>
<li><a href="#ie滚动条">IE滚动条</a></li>
<li><a href="#scroll事件">scroll事件</a></li>
</ol>
</div></section>

<!-- toc stop -->
<h2><span class="header-link" id="scrollbar">scrollbar</span></h2><blockquote>
<p>WebKit now supports styling of the scrollbars in overflow sections, listboxes, dropdown menus and textareas. <sup id="footnoteUp_1" data-desc="webkit_scrollbars_website_desc" class="reference"><a class="footnoteUp" href="#footnoteDo_1">[1]</a></sup></p>
</blockquote>
<p>源于浏览器厂商的各自为政，所以直至目前为止兼容所有浏览器的滚动条样式尚不存在，CSS3的推广使这种状况有所缓减，但有什么用呢(。・`ω´・)。webkit支持相关的<code>|&amp;#58;&amp;#58;-webkit-scrollbar</code>等伪类，可以替换webkit默认的滚动条样式从而进行自定义样式渲染，我先假定一个<code>红橙黄绿青蓝紫</code>的颜色配色方案来区分滚动条的组成部分。</p>
<table>
<thead>
<tr>
<th>伪类+伪元素</th>
<th>背景颜色</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#58;&#58;-webkit-scrollbar</td>
<td><span style="color:Black">████</span> Black</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-button:start:decrement</td>
<td><span style="color:Red">████</span> Red</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-button:vertical:start:increment</td>
<td><span style="color:Orange">████</span> Orange</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-track-piece:vertical:start</td>
<td><span style="color:Yellow">████</span> Yellow</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-thumb:vertical</td>
<td><span style="color:Green">████</span> Green</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-track-piece:vertical:end</td>
<td><span style="color:Lime">████</span> Lime</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-button:vertical:end:decrement</td>
<td><span style="color:Navy">████</span> Navy</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-button:end:increment</td>
<td><span style="color:Purple">████</span> Purple</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-track</td>
<td><span style="color:Fuchsia">████</span> Fuchsia</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-corner</td>
<td><span style="color:Gray">████</span> Gray</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-resizer</td>
<td><span style="color:Maroon">████</span> Maroon</td>
</tr>
</tbody>
</table>
<p>具体实现如下：</p>
<iframe width="100%" height="300" src="https://jsfiddle.net/kahn1990/n1awL5ac/4/embedded/html,css,result/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>可以看到整个滚动条拥有一个黑色的滚动条背景，在此基础上又在上一层粘附滚动按钮和轨道，再细分即按钮碎片和滚到碎片、滑块等。</p>
<h2><span class="header-link" id="scrollbar基本伪类">scrollbar基本伪类</span></h2><table>
<thead>
<tr>
<th>伪类</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#58;&#58;-webkit-scrollbar</td>
<td>滚动条整体</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-button</td>
<td>滚动条两端按钮</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-track</td>
<td>外层轨道</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-track-piece</td>
<td>内层轨道</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-thumb</td>
<td>拖动条</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-scrollbar-corner</td>
<td>边角</td>
</tr>
<tr>
<td>&#58;&#58;-webkit-resizer</td>
<td>定义右下角拖动块的样式</td>
</tr>
</tbody>
</table>
<p><img src="../static/img/滚动条/2.png" alt="滚动条样式"></p>
<p><strong><em>图片源于<a href="https://css-tricks.com/">css-tricks</a>网站内<code>CHRIS COYIER</code>的文章<a href="https://css-tricks.com/custom-scrollbars-in-webkit/">Custom Scrollbars in WebKit</a>，略有修改。</em></strong></p>
<iframe name="archives" src="../static/iframe/滚动条/3.html" frameborder="0" height="380px"></iframe>

<p>这个实例源于<a href="https://trac.webkit.org">trac webkit</a>网站的<a href="https://twitter.com/hyatt_dave">Dave Hyatt</a>在2009年写的一个官方示例<sup id="footnoteUp_2" data-desc="overflow_scrollbar_combinations_desc" class="reference"><a class="footnoteUp" href="#footnoteDo_2">[2]</a></sup>，额距今大约7年前。。。</p>
<p>CSS3标准新增了一些其他伪类，关于这些可以参考<a href="https://www.w3.org/TR/selectors/#pseudo-elements">Selectors Level 3</a>。</p>
<h3><span class="header-link" id="简单样式">简单样式</span></h3><pre><code class="lang-css"><span class="hljs-selector-pseudo">::-webkit-scrollbar</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">16px</span>;
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:start</span><span class="hljs-selector-pseudo">:decrement</span>,
<span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:end</span><span class="hljs-selector-pseudo">:increment</span> {
    <span class="hljs-attribute">display</span>: block;
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:vertical</span><span class="hljs-selector-pseudo">:start</span><span class="hljs-selector-pseudo">:increment</span>, <span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:vertical</span><span class="hljs-selector-pseudo">:end</span><span class="hljs-selector-pseudo">:decrement</span> {
    <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:end</span><span class="hljs-selector-pseudo">:increment</span> {
    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(../images/scroll_cntrl_dwn.png);
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-button</span><span class="hljs-selector-pseudo">:start</span><span class="hljs-selector-pseudo">:decrement</span> {
    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(../images/scroll_cntrl_up.png);
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-track-piece</span><span class="hljs-selector-pseudo">:vertical</span><span class="hljs-selector-pseudo">:start</span> {
    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(../images/scroll_gutter_top.png), <span class="hljs-built_in">url</span>(../images/scroll_gutter_mid.png);
    <span class="hljs-attribute">background-repeat</span>: no-repeat, repeat-y;
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-track-piece</span><span class="hljs-selector-pseudo">:vertical</span><span class="hljs-selector-pseudo">:end</span> {
    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(../images/scroll_gutter_btm.png), <span class="hljs-built_in">url</span>(../images/scroll_gutter_mid.png);
    <span class="hljs-attribute">background-repeat</span>: no-repeat, repeat-y;
    <span class="hljs-attribute">background-position</span>: bottom left, <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
}
<span class="hljs-selector-pseudo">::-webkit-scrollbar-thumb</span><span class="hljs-selector-pseudo">:vertical</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">56px</span>;
    <span class="hljs-attribute">-webkit-border-image</span>: <span class="hljs-built_in">url</span>(../images/scroll_thumb.png) <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span> stretch stretch;
    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>根据伪类重定义样式，参考于<a href="http://almaer.com/">almaer</a>：</p>
<iframe name="archives" src="../static/iframe/滚动条/2.html" frameborder="0"></iframe>


<h2><span class="header-link" id="伪元素">伪元素</span></h2><table>
<thead>
<tr>
<th>伪元素</th>
<th>中文描述</th>
<th>英文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:horizontal</td>
<td>横向滚动条</td>
<td>The horizontal pseudo-class applies to any scrollbar pieces that have a horizontal orientation</td>
</tr>
<tr>
<td>:vertical</td>
<td>竖向滚动条</td>
<td>The vertical pseudo-class applies to any scrollbar pieces that have a vertical orientation</td>
</tr>
<tr>
<td>:decrement</td>
<td>具有向下箭头或向右箭头按钮的滚动条)</td>
<td>The decrement pseudo-class applies to buttons and track pieces. It indicates whether or not the button or track piece will decrement the view’s position when used (e.g., up on a vertical scrollbar, left on a horizontal scrollbar)</td>
</tr>
<tr>
<td>:increment</td>
<td>具有向上箭头或向左箭头按钮的滚动条)</td>
<td>The increment pseudo-class applies to buttons and track pieces. It indicates whether or not a button or track piece will increment the view’s position when used (e.g., down on a vertical scrollbar, right on a horizontal scrollbar)</td>
</tr>
<tr>
<td>:start</td>
<td>部件在滑道前方的滚动条</td>
<td>The start pseudo-class applies to buttons and track pieces. It indicates whether the object is placed before the thumb</td>
</tr>
<tr>
<td>:end</td>
<td>部件在滑道后方的滚动条</td>
<td>The end pseudo-class applies to buttons and track pieces. It indicates whether the object is placed after the thumb</td>
</tr>
<tr>
<td>:double-button</td>
<td>在滑道两端同时具有上下箭头按钮</td>
<td>The double-button pseudo-class applies to buttons and track pieces. It is used to detect whether a button is part of a pair of buttons that are together at the same end of a scrollbar. For track pieces it indicates whether the track piece abuts a pair of buttons</td>
</tr>
<tr>
<td>:single-button</td>
<td>在滑道两端只有单个箭头按钮的滚动条</td>
<td>The single-button pseudo-class applies to buttons and track pieces. It is used to detect whether a button is by itself at the end of a scrollbar. For track pieces it indicates whether the track piece abuts a singleton button</td>
</tr>
<tr>
<td>:no-button</td>
<td>滑道两端没有箭头按钮的滚动条</td>
<td>Applies to track pieces and indicates whether or not the track piece runs to the edge of the scrollbar, i.e., there is no button at that end of the track</td>
</tr>
<tr>
<td>:corner-present</td>
<td>横竖交点存在一个公共角落的滚动条</td>
<td>Applies to all scrollbar pieces and indicates whether or not a scrollbar corner is present</td>
</tr>
<tr>
<td>:window-inactive</td>
<td>当前窗口处于未激活状态的滚动条</td>
<td>Applies to all scrollbar pieces and indicates whether or not the window containing the scrollbar is currently active. (In recent nightlies, this pseudo-class now applies to ::selection as well. We plan to extend it to work with any content and to propose it as a new standard pseudo-class.)</td>
</tr>
<tr>
<td>:enabled</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>:disabled</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>:hover</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>:active</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>这里我对美学意义上的作图功力尚浅（画的图惨不忍睹。。），所以直接安利了一张<a href="http://manos.malihu.gr/jquery-custom-content-scroller/">jQuery custom content scroller</a>官网<sup id="footnoteUp_3" data-desc="malihu_custom_scrollbar_plugin_desc" class="reference"><a class="footnoteUp" href="#footnoteDo_3">[3]</a></sup>里的关于浏览器<code>scrollbar</code>的图片，先把坑位占上再慢慢填图。</p>
<p><img src="../static/img/滚动条/1.png" alt="scrollbar"></p>
<p>这些样式里或多或少都用到了一些伪元素：</p>
<iframe name="archives" src="../static/iframe/滚动条/1.html" frameborder="0" height="230px"></iframe>


<h2><span class="header-link" id="ie滚动条">IE滚动条</span></h2><table>
<thead>
<tr>
<th>类名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>scrollbar-arrow-color</td>
<td>三角箭头的颜色</td>
</tr>
<tr>
<td>scrollbar-face-color</td>
<td>立体滚动条的颜色，包括箭头部分的背景色</td>
</tr>
<tr>
<td>scrollbar-3dlight-color</td>
<td>立体滚动条亮边的颜色</td>
</tr>
<tr>
<td>scrollbar-highlight-color</td>
<td>滚动条的高亮颜色</td>
</tr>
<tr>
<td>scrollbar-shadow-color</td>
<td>立体滚动条阴影的颜色</td>
</tr>
<tr>
<td>scrollbar-darkshadow-color</td>
<td>立体滚动条外阴影的颜色</td>
</tr>
<tr>
<td>scrollbar-track-color</td>
<td>立体滚动条背景颜色</td>
</tr>
<tr>
<td>scrollbar-base-color</td>
<td>滚动条的基色</td>
</tr>
</tbody>
</table>
<p>关于这些类，我找到一个很好玩得flash动态的展示它们的作用。</p>
<iframe name="archives" src="../static/iframe/滚动条/4.html" frameborder="0" height="240px"></iframe>

<h2><span class="header-link" id="scroll事件">scroll事件</span></h2><p><a href="http://www.quirksmode.org/dom/events/scroll.html">scroll and mousewheel</a></p>
<p>(未完待续)</p>
<h2><span class="header-link" id="references">References</span></h2><section class="footnote-box"><ul><li id="footnoteDo_1" class="footnoteUp"><span class="backlink" data-desc="webkit_scrollbars_website_desc"><b><a  href="#footnoteUp_1">^</a></b></span><span class="reference-text"><a href="https://webkit.org/blog/363/styling-scrollbars/">Styling Scrollbars</a>，webkit浏览器内核相关于滚动条样式的文章。</span></li><li id="footnoteDo_2" class="footnoteUp"><span class="backlink" data-desc="overflow_scrollbar_combinations_desc"><b><a  href="#footnoteUp_2">^</a></b></span><span class="reference-text"><a href="http://trac.webkit.org/export/41842/trunk/LayoutTests/scrollbars/overflow-scrollbar-combinations.html">overflow scrollbar combinations</a></span></li><li id="footnoteDo_3" class="footnoteUp"><span class="backlink" data-desc="malihu_custom_scrollbar_plugin_desc"><b><a  href="#footnoteUp_3">^</a></b></span><span class="reference-text"><a href="https://github.com/malihu/malihu-custom-scrollbar-plugin">malihu custom scrollbar plugin</a>是<a href="http://manos.malihu.gr">Manos</a>开发的一款流行<a href="http://jquery.com/">Jquery</a>插件，并jQuery UI，可以通过灵活的通过 CSS 定义你的滚动条。同时可以定义垂直的和水平的滚动条，而且通过<a href="https://github.com/malihu/malihu-custom-scrollbar-plugin">malihu custom scrollbar plugin</a>提供了鼠标滚动的支持，滚动的过程中，还可以缓冲滚动使得滚动更加的平滑。可以自动调整滚动条的位置并且可以定义滚动到的位置等，下载地址<a href="http://www.uibox.in/item/163">uibox malihu-custom-scrollbar-plugin</a>。</span></li></ul></section>


</div>

<footer class="footer w-900">
    <a class="footer__backToTop-btn" href="#" id="back-to-top">
        <i class="footer__backToTop-btn--icon iconfont icon-chevronup"></i>
    </a>
    <a class="footer__github-btn" href="https://github.com/kangcafe" target="_blank">Kang`s Cafe on GitHub</a>
    <div class="ds-thread" data-thread-key="145a765c-3bef-4844-b007-95ce79fc5825" data-title="滚动条" data-url="http://kangcafe.com/cn/145a765c-3bef-4844-b007-95ce79fc5825.html"></div>
    <script type="text/javascript">
        var duoshuoQuery = {
            short_name: "kangcafe"
        };
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';
            ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] ||
                document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <section class="content__section">
        <p class="content__a-btn">
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
                <img alt="Creative Commons License" style="border-width:0" src="../static/bgimg/licensebuttons.png" />
            </a>
        </p>
        <p class="content__p--word">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"> Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License
        </a>. Reprint the 《<sub>滚动条</sub>》 need signature "<sub>kc</sub>", and the url is <sub>http://kangcafe.com/cn/145a765c-3bef-4844-b007-95ce79fc5825.html</sub>.
        </p>
        <p class="content__text-p--desc">
            <em>这里的大多数文章都写于很多年以前，十年历程，多于怀旧（@2006-2016）</em>
            <br>Copyright (C) 2016 KangCafe.com, All Rights Reserved
            <br>Made in China.
            <span class="text__span--link">
            ✎
            <a href="../index.html">Home</a> –
            <a href="./mood.html">Mood</a> –
            <a href="./source.html">Source</a> –
            <a href="./note.html">Note</a>.
          </span>
        </p>
    </section>
</footer>
<script type="text/javascript">
    ! function($) {
        $(window).scroll(function() {
            $(this).scrollTop() > 100 ? $("#back-to-top").fadeIn() : $("#back-to-top").fadeOut()
        }), $("#back-to-top").on("click", function(b) {
            return b.preventDefault(), $("html, body").animate({
                scrollTop: 0
            }, 100), !1
        });
    }(jQuery);
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?95e6652d7f50f8def7540e687f338f60";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<script type="text/javascript">
    (function() {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
</body>

</html>

